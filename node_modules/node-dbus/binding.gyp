{
  'targets': [
    {
      'target_name': 'binding',
      'sources': [
          'src/binding.cpp'
        , 'src/node_dbus_connection.cpp'
        , 'src/node_dbus_utils.cpp'
        , 'src/node_dbus_watch.cpp'
        , 'src/node_dbus_timeout.cpp'
        , 'src/node_dbus_message.cpp'
        , 'src/node_dbus_message_iter.cpp'
        , 'src/node_dbus_pending_call.cpp'
        , 'src/node_dbus_introspection.cpp'
        , 'src/node_dbus_server.cpp'
      ],
			'conditions': [
				['OS=="linux"', {
					'defines': [
						'LIB_EXPAT=expat'
					],
					'cflags': [
						'-std=gnu++0x',
						'<!@(pkg-config --cflags dbus-1)',
						'<!@(pkg-config --cflags expat)'
					],
					'ldflags': [
						'<!@(pkg-config  --libs-only-L --libs-only-other dbus-1)',
						'<!@(pkg-config  --libs-only-L --libs-only-other expat)'
					],
					'libraries': [
						'<!@(pkg-config  --libs-only-l --libs-only-other dbus-1)',
						'<!@(pkg-config  --libs-only-l --libs-only-other expat)'
					]
				}]
			]
    }
  ]
}
